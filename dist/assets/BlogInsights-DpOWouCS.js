import{j as e}from"./radix-BlS-SMje.js";import{r as t,R as r,L as a}from"./react-Bac6cy6E.js";import{C as s,b as l,c as i,a as o}from"./card-DF2FkbvM.js";import{B as n}from"./badge-BYbML2ot.js";import{N as c}from"./index-B0JXrjQd.js";import"./ContactFormComponent-B8xGUu_W.js";import{L as d}from"./LegacyFooter-BGA4cspZ.js";import{g as m}from"./blogImageSelector-BG5psayn.js";import{C as h}from"./chevron-left-BN-K9D_x.js";import{C as u}from"./chevron-right-CrUH2ASW.js";import{C as g}from"./index-7kfKKLbB.js";import{S as x}from"./search-CbQUfg6_.js";import"./charts-2RTonyrx.js";import"./types-BWJTkALL.js";import"./input-D-W2HA_O.js";import"./form-Dde1lGLS.js";import"./arrow-up-BeShIBfe.js";const b=()=>{const[b,p]=t.useState([]),[j,f]=t.useState(""),[y,v]=t.useState(1),[N,w]=t.useState(!0),[S,k]=t.useState(null),[C,_]=t.useState(0),[L,E]=t.useState([]),[R,T]=t.useState(null),[F,P]=t.useState(0),$=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString(void 0,{month:"short",day:"2-digit",year:"numeric"})}catch{return""}},D=async(e=1,t=b,r=j)=>{var a,s;w(!0),k(null);try{const t=12,r=(e-1)*t,l=`https://staging.trilio.ai/api/auth/v1/blogs?${new URLSearchParams({limit:String(t),offset:String(r)}).toString()}`,i=await fetch(l,{method:"GET",headers:{Accept:"application/json"}});if(!i.ok)throw new Error(`Request failed: ${i.status}`);const o=await i.json(),n=((null==(a=null==o?void 0:o.data)?void 0:a.blogs)??[]).map(e=>({id:Number(e.id),slug:String(e.slug??""),title:String(e.title??"Untitled"),author:String(e.author??""),category:String(e.category??""),date:$(e.published_at),image:m(Number(e.id)),summary:String(e.title??"")}));E(n),P(Number((null==(s=null==o?void 0:o.data)?void 0:s.total_count)??n.length));const c=n.find(e=>e.title.toLowerCase().includes("black friday")||e.title.toLowerCase().includes("cyber monday"));T(c??null)}catch(l){k((null==l?void 0:l.message)||"Failed to load blogs.")}finally{w(!1)}};r.useEffect(()=>{D(y,b,j)},[y,b,j]);const M=["Analytics","Product","E-commerce","Marketing","Leadership","AI"],q=e=>{v(e),window.scrollTo({top:500,behavior:"smooth"})};r.useEffect(()=>{v(1)},[b,j]),b.length,M.length,r.useMemo(()=>{const e={};return M.forEach(t=>{e[t]=L.filter(e=>e.category===t).length}),e},[L]);const A=Math.ceil(F/12),U=L,W=[{id:29,slug:"case-study-30-percent-reduction-in-stockouts",title:"Case Study: 30% Reduction in Stockouts",author:"Nirjar Sanghavi",author_image:"https://assets.channeliq.ai/invictus-landing/Leadership/nirjar.jpg",category:"Case Study",read_time:"8 min",featured_image_url:m(29),published_at:"2025-01-15T00:00:00"},{id:2,slug:"example-black-friday-cyber-monday-preparedness",title:"Black Friday/Cyber Monday Preparedness",author:"Om Rathod",author_image:"https://assets.channeliq.ai/invictus-landing/Leadership/om.jpg",category:"E-commerce",read_time:"10 min",featured_image_url:m(2),published_at:"2025-01-17T00:00:00"}],z=W[C];return e.jsx("div",{className:"h-screen",children:e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(c,{}),e.jsx("section",{className:"pt-44 pb-16 bg-gradient-to-br from-purple-50 via-blue-50 to-white",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Explore What We're Thinking"}),e.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Product updates, best practices, and e-commerce strategy from the Trilio team."})]}),e.jsxs("div",{className:"max-w-6xl mx-auto mb-12 relative",children:[e.jsx("button",{onClick:()=>{_(e=>0===e?W.length-1:e-1)},className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-transparent hover:bg-white/20 text-white border-2 border-white rounded-full p-3 shadow-lg transition-all duration-200 hover:scale-110","aria-label":"Previous blog",children:e.jsx(h,{className:"h-6 w-6"})}),e.jsx("button",{onClick:()=>{_(e=>e===W.length-1?0:e+1)},className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-transparent hover:bg-white/20 text-white border-2 border-white rounded-full p-3 shadow-lg transition-all duration-200 hover:scale-110","aria-label":"Next blog",children:e.jsx(u,{className:"h-6 w-6"})}),e.jsx(a,{to:`/resources/blog-insights/${z.slug}`,className:"block",children:e.jsxs(s,{className:"relative overflow-hidden hover:shadow-2xl transition-all duration-300 border border-gray-200 bg-white cursor-pointer hover:scale-[1.01] h-[400px] md:h-[450px] rounded-2xl",children:[e.jsx("img",{src:z.featured_image_url,alt:z.title,className:"absolute inset-0 w-full h-full object-cover object-top"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-6 md:p-10",children:[e.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl text-white mb-4 leading-tight",children:z.title}),e.jsx("div",{className:"flex items-center gap-3 text-sm text-white/80",children:e.jsx("span",{children:(e=>{if(!e)return"";try{return new Date(e).toLocaleDateString(void 0,{month:"short",day:"2-digit",year:"numeric"})}catch{return""}})(z.published_at)})})]})]})}),e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:W.map((t,r)=>e.jsx("button",{onClick:()=>_(r),className:"h-2 rounded-full transition-all duration-300 "+(r===C?"w-8 bg-teal-600":"w-2 bg-gray-300 hover:bg-gray-400"),"aria-label":`Go to blog ${r+1}`},r))})]})]})}),e.jsx("div",{className:"pt-12 pb-16 bg-white",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-1/4",children:e.jsxs("div",{className:"sticky top-24 rounded-2xl border border-gray-200 bg-white p-4 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Categories"}),e.jsx("div",{className:"space-y-2",children:M.map(t=>{const r=b.includes(t);return e.jsxs("button",{onClick:()=>(e=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(t),className:"group w-full flex items-center justify-between px-4 py-2.5 rounded-xl border transition-all "+(r?"bg-gradient-to-r from-teal-50 to-blue-50 border-teal-200 text-teal-900 ring-1 ring-teal-200":"bg-white border-gray-200 hover:bg-gray-50"),"aria-pressed":r,children:[e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full "+(r?"bg-teal-500":"bg-gray-300")}),e.jsx("span",{className:"text-gray-800 font-medium",children:t})]}),r&&e.jsx(g,{className:"h-4 w-4 text-teal-600"})]},t)})})]})}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"Search...",value:j,onChange:e=>f(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-black placeholder-gray-500"})]})}),N?e.jsx("div",{className:"py-16 text-center text-gray-600",children:"Loading blogsâ€¦"}):S?e.jsxs("div",{className:"py-16 text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:S}),e.jsx("button",{onClick:()=>D(y,b,j),className:"inline-flex items-center justify-center rounded-md text-sm font-medium border border-gray-300 bg-white hover:bg-gray-50 h-9 px-4",children:"Retry"})]}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(t=>e.jsx(a,{to:`/resources/blog-insights/${t.slug}`,className:"block",children:e.jsxs(s,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 hover:scale-[1.02] border border-gray-200 cursor-pointer h-full",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-48 object-cover"}),e.jsxs(l,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(n,{variant:"secondary",className:"bg-teal-100 text-teal-700 border-teal-200",children:t.category}),e.jsx("span",{className:"text-xs text-gray-500",children:t.date})]}),e.jsx(i,{className:"text-base font-semibold hover:text-teal-600 transition-colors duration-200 line-clamp-2",children:t.title})]}),e.jsx(o,{className:"pt-0",children:e.jsx("div",{className:"flex items-center text-sm text-gray-500",children:e.jsxs("span",{children:["by ",t.author]})})})]})},t.id))}),!N&&!S&&A>1&&e.jsxs("div",{className:"flex justify-center items-center mt-12",children:[e.jsx("button",{onClick:()=>q(y-1),disabled:1===y,className:"w-10 h-10 flex items-center justify-center rounded-lg border-2 transition-all duration-200 mr-4 "+(1===y?"bg-gray-200 border-gray-300 text-gray-400 cursor-not-allowed":"bg-white border-gray-300 text-gray-600 hover:border-gray-400 hover:bg-gray-50"),children:e.jsx(h,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex items-center space-x-1",children:(()=>{const e=[];if(A<=5)for(let t=1;t<=A;t++)e.push(t);else if(y<=3){for(let t=1;t<=4;t++)e.push(t);e.push("..."),e.push(A)}else if(y>=A-2){e.push(1),e.push("...");for(let t=A-3;t<=A;t++)e.push(t)}else{e.push(1),e.push("...");for(let t=y-1;t<=y+1;t++)e.push(t);e.push("..."),e.push(A)}return e})().map((t,a)=>e.jsx(r.Fragment,{children:"..."===t?e.jsx("div",{className:"w-10 h-10 flex items-center justify-center text-gray-400 font-medium",children:"..."}):e.jsx("button",{onClick:()=>q(t),className:"w-10 h-10 flex items-center justify-center rounded-lg border-2 font-medium text-base transition-all duration-200 "+(y===t?"bg-white border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"),children:t})},a))}),e.jsx("button",{onClick:()=>q(y+1),disabled:y===A,className:"w-10 h-10 flex items-center justify-center rounded-lg border-2 transition-all duration-200 ml-4 "+(y===A?"bg-gray-200 border-gray-300 text-gray-400 cursor-not-allowed":"bg-white border-gray-300 text-gray-600 hover:border-gray-400 hover:bg-gray-50"),children:e.jsx(u,{className:"h-4 w-4"})})]})]})]})})}),e.jsx(d,{})]})})};export{b as default};
//# sourceMappingURL=BlogInsights-DpOWouCS.js.map
