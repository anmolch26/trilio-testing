{"version":3,"file":"dataDictionary-BCgjAtPv.js","sources":["../../src/pages/resources/dataDictionary.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Navbar from \"@/components/NavBar\";\nimport LegacyFooter from \"@/components/LegacyFooter\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport RouteCanonical from \"@/components/RouteCanonical\";\n\ntype Metric = {\n  category: string;\n  name: string;\n  unit?: string;\n  definition: string;\n  formula?: string;\n  key?: string;\n  insights?: string[];\n  deepLink?: string;\n  // normalized metadata fields from API metric_metadata\n  metaOverview?: string;\n  metaInsights?: string[];\n  metaBreakdown?: Record<string, string> | string[];\n  metaDimensions?: string[];\n  metaRelated?: string[];\n  metaExamplePrompt?: string;\n  metaExampleResponse?: { title?: string; metric?: string; value?: string };\n  metaQuery?: string;\n};\n// All content will be sourced from API metric_metadata; no hardcoded enrichments\n\n// Utility: Extract clean component names from a formula string\nfunction extractFormulaComponents(formula?: string): string[] {\n  if (!formula) return [];\n  // Replace sum(x) with x, remove parens, normalize spaces\n  let f = formula\n    .replace(/sum\\s*\\(([^)]+)\\)/gi, \"$1\")\n    .replace(/[()]/g, \" \")\n    .replace(/\\s+/g, \" \")\n    .trim();\n  // Split on common math operators\n  const raw = f.split(/\\+|\\-|×|÷|\\*|\\//g);\n  const toTitle = (s: string) =>\n    s\n      .replace(/[^a-z0-9_\\s-]/gi, \"\")\n      .trim()\n      .replace(/\\s+/g, \" \")\n      .toLowerCase()\n      .replace(/\\b\\w/g, (m) => m.toUpperCase());\n  const seen = new Set<string>();\n  const out: string[] = [];\n  for (const part of raw) {\n    const p = toTitle(part);\n    if (p && !seen.has(p)) {\n      seen.add(p);\n      out.push(p);\n    }\n  }\n  return out;\n}\n\n// Fallback formulas for common components (temporary/dummy definitions)\nconst DUMMY_FORMULAS: Record<string, string> = {\n  \"net-sales\": \"Gross Sales - Returns - Discounts\",\n  \"gross-sales\": \"Unit Price × Units Sold\",\n  \"discounts\": \"sum(discount_amount)\",\n  \"discount\": \"sum(discount_amount)\",\n  \"shipping\": \"sum(shipping_price)\",\n  \"tax\": \"sum(taxes)\",\n  \"taxes\": \"sum(taxes)\",\n  \"additional-fees\": \"sum(additional_fees)\",\n  \"duties\": \"sum(duties)\",\n  \"ad-spend\": \"sum(spends)\",\n  \"units-sold\": \"sum(quantity)\",\n  \"aov\": \"Total Revenue ÷ Total Orders\",\n  \"mer\": \"Total Revenue ÷ Total Marketing Spend\",\n  \"gross-profit\": \"Net Sales - COGS\",\n  \"gross-margin\": \"(Gross Profit ÷ Net Sales) × 100\",\n  \"cogs\": \"Opening Inventory + Purchases - Closing Inventory\",\n  \"returns\": \"sum(returns_amount)\",\n};\n\nconst Sidebar: React.FC<{ items: Metric[]; active: number; setActive: (i: number) => void }> = ({ items, active, setActive }) => {\n  return (\n    <div className=\"lg:w-1/5 -ml-6\">\n      <RouteCanonical path=\"/resources/data-dictionary\" />\n      <div className=\"sticky top-24\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-lg\">Trilio Metrics</CardTitle>\n          </CardHeader>\n          <CardContent\n            className=\"p-0 max-h-[calc(100vh-9rem)] overflow-y-auto overscroll-contain\"\n            onWheel={(e) => e.stopPropagation()}\n          >\n            <nav className=\"space-y-1\">\n              {items.map((m, i) => (\n                <button\n                  key={m.key}\n                  onClick={() => setActive(i)}\n                  className={`w-full text-left px-4 py-3 transition-all duration-200 ${\n                    active === i\n                      ? \"bg-purple-50 text-purple-600 border-r-2 border-purple-500\"\n                      : \"text-gray-600 hover:bg-gray-50 hover:text-gray-900\"\n                  }`}\n                >\n                  {m.name}\n                </button>\n              ))}\n            </nav>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nconst MetricCard: React.FC<{\n  metric: Metric;\n  allMetrics: Metric[];\n  onPrev: () => void;\n  onNext: () => void;\n  hasPrev: boolean;\n  hasNext: boolean;\n}> = ({ metric, allMetrics, onPrev, onNext, hasPrev, hasNext }) => {\n  return (\n    <Card id={metric.key} className=\"border-muted/40 bg-background/60 backdrop-blur supports-[backdrop-filter]:bg-background/40\">\n      <CardContent className=\"p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            {metric.deepLink ? (\n              <Link\n                to={metric.deepLink}\n                className={`mt-1 font-bold inline-block ${\n                  (metric.key || \"\").toLowerCase() === \"total-sales\" ? \"text-4xl\" : \"text-2xl\"\n                }`}\n              >\n                {metric.name}\n              </Link>\n            ) : (\n              <h2\n                className={`mt-1 font-bold ${\n                  (metric.key || \"\").toLowerCase() === \"total-sales\" ? \"text-4xl\" : \"text-2xl\"\n                }`}\n              >\n                {metric.name}\n              </h2>\n            )}\n          </div>\n          {/* top navigation removed as requested */}\n        </div>\n\n        <div className=\"mt-6 space-y-4\">\n          <section>\n            <h3 className=\"text-lg font-semibold text-muted-foreground mb-1\">\n              Overview\n            </h3>\n            <p className=\"text-base leading-7 text-foreground/90\">\n              {metric.metaOverview || metric.definition || \"Not available\"}\n            </p>\n          </section>\n\n          {metric.formula && (\n            <section>\n              <h3 className=\"text-lg font-semibold text-muted-foreground mb-2\">\n                Formula\n              </h3>\n              <div className=\"rounded-md bg-muted px-4 py-3 text-base font-mono\">\n                {metric.formula}\n              </div>\n            </section>\n          )}\n\n          {(metric.insights?.length || metric.metaInsights?.length) && (\n            <section>\n              <h3 className=\"text-lg font-semibold text-muted-foreground mb-2\">\n                Insights and Actions\n              </h3>\n              <ul className=\"list-none pl-0 text-base leading-7 space-y-2\">\n                {[...(metric.insights || []), ...(metric.metaInsights || [])].map((tip, idx) => (\n                  <li key={idx} className=\"text-foreground/90\">\n                    {tip}\n                  </li>\n                ))}\n              </ul>\n            </section>\n          )}\n\n          {/* Optional Detailed Breakdown. Prefer parts parsed from formula; fallback to enrichments. */}\n          {(extractFormulaComponents(metric.formula).length > 0 || metric.metaBreakdown) && (\n            <section>\n              <h3 className=\"text-lg font-semibold text-muted-foreground mb-2\">\n                Detailed Breakdown\n              </h3>\n              <ul className=\"list-disc pl-5 text-base leading-7 space-y-1\">\n                {(extractFormulaComponents(metric.formula).length\n                  ? extractFormulaComponents(metric.formula)\n                  : Array.isArray(metric.metaBreakdown)\n                    ? (metric.metaBreakdown as string[])\n                    : Object.keys((metric.metaBreakdown as Record<string, string>) || {})\n                ).map((b, i) => {\n                  // If the item is a simple component name, try to find its formula in all metrics\n                  const normalize = (s: string) => s.toLowerCase().replace(/[^a-z0-9]+/g, \"-\");\n                  const comp = b.trim();\n                  const key = normalize(comp);\n                  const match = allMetrics.find((m) => normalize(m.name || \"\") === key);\n                  const compFormula = match?.formula || DUMMY_FORMULAS[key];\n                  return (\n                    <li key={i}>\n                      {comp}\n                      {compFormula && (\n                        <span className=\"ml-2 font-mono text-sm text-muted-foreground\">= {compFormula}</span>\n                      )}\n                    </li>\n                  );\n                })}\n              </ul>\n            </section>\n          )}\n\n          {/* Data Sources removed as requested */}\n\n          {/* Optional Suggested Dimensions */}\n          {metric.metaDimensions && (\n            <section>\n              <h3 className=\"text-lg font-semibold text-muted-foreground mb-2\">\n                Suggested Dimensions\n              </h3>\n              <div className=\"flex flex-wrap gap-2 text-sm\">\n                {metric.metaDimensions!.map((d, i) => (\n                  <span key={i} className=\"rounded-full border px-2 py-1 bg-background\">\n                    {d}\n                  </span>\n                ))}\n              </div>\n            </section>\n          )}\n\n          {/* Optional Related Metrics */}\n          {metric.metaRelated && (\n            <section>\n              <h3 className=\"text-lg font-semibold text-muted-foreground mb-2\">\n                Related Metrics\n              </h3>\n              <div className=\"flex flex-wrap gap-2 text-sm\">\n                {metric.metaRelated!.map((d, i) => (\n                  <span key={i} className=\"rounded-full border px-2 py-1 bg-background\">\n                    {d}\n                  </span>\n                ))}\n              </div>\n            </section>\n          )}\n\n          {/* Notes section removed as requested */}\n\n          {/* Optional Example Use (Prompt/Response card) */}\n          {(metric.metaExamplePrompt || metric.metaExampleResponse) && (\n            <section>\n              <h3 className=\"text-lg font-semibold text-muted-foreground mb-2\">\n                Example Use\n              </h3>\n              {metric.metaExamplePrompt && (\n                <div className=\"mb-4\">\n                  <div className=\"text-sm font-semibold mb-1\">Prompt</div>\n                  <blockquote className=\"border-l-4 pl-4 text-base text-muted-foreground\">\n                    {metric.metaExamplePrompt}\n                  </blockquote>\n                </div>\n              )}\n              {metric.metaExampleResponse && (\n                <div>\n                  <div className=\"text-sm font-semibold mb-2\">Response</div>\n                  <div className=\"rounded-lg border bg-card\">\n                    {typeof metric.metaExampleResponse === \"string\" ? (\n                      <div className=\"p-4 text-base\">{metric.metaExampleResponse}</div>\n                    ) : (\n                      <>\n                        <div className=\"px-4 py-3 border-b text-sm font-medium\">\n                          {metric.metaExampleResponse!.title || \"Response\"}\n                        </div>\n                        <div className=\"p-4\">\n                          {metric.metaExampleResponse!.metric && (\n                            <div className=\"text-sm text-muted-foreground mb-2\">\n                              {metric.metaExampleResponse!.metric}\n                            </div>\n                          )}\n                          {metric.metaExampleResponse!.value && (\n                            <div className=\"text-3xl font-bold\">\n                              {metric.metaExampleResponse!.value}\n                            </div>\n                          )}\n                        </div>\n                      </>\n                    )}\n                  </div>\n                </div>\n              )}\n            </section>\n          )}\n\n          {/* Optional Query */}\n          {metric.metaQuery && (\n            <section>\n              <h3 className=\"text-lg font-semibold text-muted-foreground mb-2\">\n                Query\n              </h3>\n              <pre className=\"rounded-md bg-muted px-4 py-3 text-sm font-mono whitespace-pre-wrap\">\n{metric.metaQuery}\n              </pre>\n            </section>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nconst DataDictionary: React.FC = () => {\n  const [active, setActive] = useState(0);\n  const [metrics, setMetrics] = useState<Metric[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const navigate = useNavigate();\n  const { metricSlug } = useParams();\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const res = await fetch(\"https://staging.trilio.ai/api/analytics/v1/metrics-definition\");\n        const json = await res.json();\n        const apiMetrics: Metric[] = (json?.data?.metrics || []).map((m: any) => {\n          const meta = m.metric_metadata || {};\n          const normalizedBreakdown = meta[\"Detailed Breakdown\"] || meta[\"detailed_breakdown\"];\n          return {\n            category: m.category,\n            name: m.metric_name,\n            unit: m.unit || undefined,\n            definition: m.definition,\n            formula: m.formula || undefined,\n            key: (m.key_name || m.metric_name || \"\").toString().toLowerCase().replace(/[^a-z0-9]+/g, \"-\").replace(/(^-|-$)/g, \"\"),\n            deepLink: m.deep_link,\n            metaOverview: meta[\"Overview\"] || meta[\"overview\"],\n            metaInsights: meta[\"Insights and Actions\"] || meta[\"insights_and_actions\"] || meta[\"insights\"],\n            metaBreakdown: normalizedBreakdown,\n            metaDimensions: meta[\"Suggested Dimensions\"] || meta[\"suggested_dimensions\"],\n            metaRelated: meta[\"Related Metrics\"] || meta[\"related_metrics\"],\n            metaExamplePrompt: (meta[\"Example Use\"] && meta[\"Example Use\"].prompt) || meta[\"example_prompt\"],\n            metaExampleResponse: (meta[\"Example Use\"] && meta[\"Example Use\"].response) || meta[\"example_response\"],\n            metaQuery: meta[\"Query\"] || meta[\"query\"],\n          } as Metric;\n        });\n        setMetrics(apiMetrics);\n        if (metricSlug) {\n          const idx = apiMetrics.findIndex((m) => m.key === metricSlug.toLowerCase());\n          setActive(idx >= 0 ? idx : 0);\n        } else {\n          setActive(0);\n        }\n      } catch (e) {\n        setError(\"Failed to load metrics.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, [metricSlug]);\n\n  const goPrev = () => setActive((i) => Math.max(0, i - 1));\n  const goNext = () => setActive((i) => Math.min(Math.max(metrics.length - 1, 0), i + 1));\n\n  // Sync URL when active metric changes\n  useEffect(() => {\n    if (metrics.length === 0) return;\n    const slug = metrics[active]?.key;\n    if (!slug) return;\n    navigate(`/resources/data-dictionary/${slug}`, { replace: true });\n  }, [active, metrics, navigate]);\n  return (\n    <div className=\"h-screen\">\n      <div className=\"min-h-screen bg-white\">\n        <Navbar />\n\n        {/* Hero Section */}\n        <section className=\"pt-36 pb-16 bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900 text-white\">\n          <div className=\"container mx-auto px-6 text-center\">\n            <h1 className=\"text-5xl font-bold mt-2\">Data Dictionary</h1>\n            <p className=\"text-xl mt-3 max-w-3xl mx-auto opacity-90\">\n              Explore standardized definitions, formulas and usage guidance for key ecommerce performance metrics.\n            </p>\n          </div>\n        </section>\n\n        <div className=\"container mx-auto px-4 sm:px-6 py-12 -mt-10 relative\">\n          <div className=\"flex flex-col lg:flex-row gap-8\">\n            <Sidebar items={metrics} active={active} setActive={(i) => setActive(i)} />\n            <div className=\"lg:w-4/5 space-y-6 -ml-2\">\n              {loading ? (\n                <div className=\"text-sm text-muted-foreground\">Loading metrics…</div>\n              ) : error ? (\n                <div className=\"text-sm text-red-600\">{error}</div>\n              ) : metrics.length > 0 ? (\n                <MetricCard\n                  key={metrics[active]?.key}\n                  metric={metrics[active]}\n                  allMetrics={metrics}\n                  onPrev={goPrev}\n                  onNext={goNext}\n                  hasPrev={active > 0}\n                  hasNext={active < metrics.length - 1}\n                />\n              ) : (\n                <div className=\"text-sm text-muted-foreground\">No metrics available.</div>\n              )}\n              <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n                <button\n                  onClick={goPrev}\n                  disabled={active === 0}\n                  className=\"inline-flex items-center gap-1 hover:text-foreground disabled:opacity-50\"\n                >\n                  <ChevronLeft className=\"h-4 w-4\" /> Previous\n                </button>\n                <button\n                  onClick={goNext}\n                  disabled={metrics.length === 0 || active === metrics.length - 1}\n                  className=\"inline-flex items-center gap-1 hover:text-foreground disabled:opacity-50\"\n                >\n                  Next <ChevronRight className=\"h-4 w-4\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n     <LegacyFooter />\n    </div>\n  );\n};\n\nexport default DataDictionary;\n\n\n"],"names":["extractFormulaComponents","formula","raw","replace","trim","split","toTitle","s","toLowerCase","m","toUpperCase","seen","Set","out","part","p","has","add","push","DUMMY_FORMULAS","discounts","discount","shipping","tax","taxes","duties","aov","mer","cogs","returns","Sidebar","items","active","setActive","jsxs","className","children","jsx","RouteCanonical","path","Card","CardHeader","CardTitle","CardContent","onWheel","e","stopPropagation","map","i","onClick","name","key","MetricCard","metric","allMetrics","onPrev","onNext","hasPrev","hasNext","id","deepLink","Link","to","metaOverview","definition","_a","insights","length","_b","metaInsights","tip","idx","metaBreakdown","Array","isArray","Object","keys","b","normalize","comp","match","find","compFormula","metaDimensions","d","metaRelated","metaExamplePrompt","metaExampleResponse","Fragment","title","value","metaQuery","DataDictionary","useState","metrics","setMetrics","loading","setLoading","error","setError","navigate","useNavigate","metricSlug","useParams","useEffect","async","res","fetch","json","apiMetrics","data","meta","metric_metadata","normalizedBreakdown","category","metric_name","unit","key_name","toString","deep_link","prompt","response","findIndex","load","goPrev","Math","max","goNext","min","slug","Navbar","disabled","ChevronLeft","ChevronRight","LegacyFooter"],"mappings":"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"}