{"version":3,"file":"BlogInsights-DpOWouCS.js","sources":["../../src/pages/resources/BlogInsights.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Search, Check, ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { Navbar } from \"@/components\";\nimport LegacyFooter from \"@/components/LegacyFooter\";\nimport { getBlogImage } from \"@/utils/blogImageSelector\";\n\n\nconst BlogInsights = () => {\n  const [selectedCategories, setSelectedCategories] = useState<string[]>([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const blogsPerPage = 12; // Show 12 blogs per page\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n  const [currentTrendingIndex, setCurrentTrendingIndex] = useState(0);\n  const [blogPosts, setBlogPosts] = useState<Array<{\n    id: number;\n    slug: string;\n    title: string;\n    author: string;\n    category: string;\n    date: string;\n    image: string;\n    summary: string;\n  }>>([]);\n  const [trendingBlog, setTrendingBlog] = useState<{\n    id: number;\n    slug: string;\n    title: string;\n    author: string;\n    category: string;\n    date: string;\n    image: string;\n    summary: string;\n  } | null>(null);\n  const [totalBlogs, setTotalBlogs] = useState<number>(0);\n\n  const formatDate = (iso: string | null | undefined) => {\n    if (!iso) return \"\";\n    try {\n      const d = new Date(iso);\n      return d.toLocaleDateString(undefined, {\n        month: \"short\",\n        day: \"2-digit\",\n        year: \"numeric\",\n      });\n    } catch {\n      return \"\";\n    }\n  };\n\n  const fetchBlogs = async (\n    page = 1,\n    filters = selectedCategories,\n    search = searchQuery\n  ) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const PAGE_LIMIT = blogsPerPage;\n      const offset = (page - 1) * PAGE_LIMIT;\n      // Optionally, if backend supports filters/search: add them as query params\n      const params = new URLSearchParams({\n        limit: String(PAGE_LIMIT),\n        offset: String(offset),\n        // backend filter/query props can go here if supported (category/search)\n      });\n      // TODO: Uncomment and adapt if API supports filters/search as query params\n      // if (filters.length > 0) params.append(\"category\", filters.join(\",\"));\n      // if (search.length > 0) params.append(\"search\", search);\n\n      const url = `https://staging.trilio.ai/api/auth/v1/blogs?${params.toString()}`;\n      const response = await fetch(url, {\n        method: \"GET\",\n        headers: { Accept: \"application/json\" },\n      });\n      if (!response.ok) throw new Error(`Request failed: ${response.status}`);\n      const json = await response.json();\n      const blogsArray = (json?.data?.blogs ?? []).map((b: any) => ({\n        id: Number(b.id),\n        slug: String(b.slug ?? \"\"),\n        title: String(b.title ?? \"Untitled\"),\n        author: String(b.author ?? \"\"),\n        category: String(b.category ?? \"\"),\n        date: formatDate(b.published_at),\n        image: getBlogImage(Number(b.id)),\n        summary: String(b.title ?? \"\"),\n      }));\n      setBlogPosts(blogsArray);\n      setTotalBlogs(Number(json?.data?.total_count ?? blogsArray.length));\n      const trending = blogsArray.find((b) =>\n        b.title.toLowerCase().includes(\"black friday\") ||\n        b.title.toLowerCase().includes(\"cyber monday\")\n      );\n      setTrendingBlog(trending ?? null);\n    } catch (err: any) {\n      setError(err?.message || \"Failed to load blogs.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  React.useEffect(() => {\n    fetchBlogs(currentPage, selectedCategories, searchQuery);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentPage, selectedCategories, searchQuery]);\n\n  const categories = [\n    \"Analytics\",\n    \"Product\",\n    \"E-commerce\",\n    \"Marketing\",\n    \"Leadership\",\n    \"AI\",\n  ];\n\n  const handleCategoryToggle = (category: string) => {\n    setSelectedCategories((prev) => {\n      if (prev.includes(category)) {\n        return prev.filter((cat) => cat !== category);\n      } else {\n        return [...prev, category];\n      }\n    });\n  };\n\n  // Handle select all\n  const handleSelectAll = () => {\n    if (selectedCategories.length === categories.length) {\n      setSelectedCategories([]);\n    } else {\n      setSelectedCategories([...categories]);\n    }\n  };\n\n  // Handle page change\n  const handlePageChange = (page: number) => {\n    setCurrentPage(page);\n    // Scroll to top of blog section\n    window.scrollTo({ top: 500, behavior: 'smooth' });\n  };\n\n  // Reset to first page when filters change\n  React.useEffect(() => {\n    setCurrentPage(1);\n  }, [selectedCategories, searchQuery]);\n\n  // blogPosts are loaded from backend via fetch\n\n  // Derived helpers for category UI\n  const isAllSelected = selectedCategories.length === categories.length;\n  const categoryCounts: Record<string, number> = React.useMemo(() => {\n    const counts: Record<string, number> = {};\n    categories.forEach((c) => {\n      counts[c] = blogPosts.filter((p) => p.category === c).length;\n    });\n    return counts;\n  }, [blogPosts]);\n\n  const totalPages = Math.ceil(totalBlogs / blogsPerPage);\n  const currentPosts = blogPosts;\n\n  // Generate page numbers for pagination\n  const getPageNumbers = () => {\n    const pageNumbers = [];\n    const maxVisiblePages = 5;\n\n    if (totalPages <= maxVisiblePages) {\n      // Show all pages if total pages is less than or equal to max visible pages\n      for (let i = 1; i <= totalPages; i++) {\n        pageNumbers.push(i);\n      }\n    } else {\n      // Show smart pagination with ellipsis\n      if (currentPage <= 3) {\n        // Show first pages\n        for (let i = 1; i <= 4; i++) {\n          pageNumbers.push(i);\n        }\n        pageNumbers.push('...');\n        pageNumbers.push(totalPages);\n      } else if (currentPage >= totalPages - 2) {\n        // Show last pages\n        pageNumbers.push(1);\n        pageNumbers.push('...');\n        for (let i = totalPages - 3; i <= totalPages; i++) {\n          pageNumbers.push(i);\n        }\n      } else {\n        // Show middle pages\n        pageNumbers.push(1);\n        pageNumbers.push('...');\n        for (let i = currentPage - 1; i <= currentPage + 1; i++) {\n          pageNumbers.push(i);\n        }\n        pageNumbers.push('...');\n        pageNumbers.push(totalPages);\n      }\n    }\n\n    return pageNumbers;\n  };\n\n  const trendingBlogs = [\n    {\n      id: 29,\n      slug: \"case-study-30-percent-reduction-in-stockouts\",\n      title: \"Case Study: 30% Reduction in Stockouts\",\n      author: \"Nirjar Sanghavi\",\n      author_image: \"https://assets.channeliq.ai/invictus-landing/Leadership/nirjar.jpg\",\n      category: \"Case Study\",\n      read_time: \"8 min\",\n      featured_image_url: getBlogImage(29),\n      published_at: \"2025-01-15T00:00:00\"\n    },\n    {\n      id: 2,\n      slug: \"example-black-friday-cyber-monday-preparedness\",\n      title: \"Black Friday/Cyber Monday Preparedness\",\n      author: \"Om Rathod\",\n      author_image: \"https://assets.channeliq.ai/invictus-landing/Leadership/om.jpg\",\n      category: \"E-commerce\",\n      read_time: \"10 min\",\n      featured_image_url: getBlogImage(2),\n      published_at: \"2025-01-17T00:00:00\"\n    }\n  ];\n\n  const currentTrendingBlog = trendingBlogs[currentTrendingIndex];\n\n  const handlePrevTrending = () => {\n    setCurrentTrendingIndex((prev) =>\n      prev === 0 ? trendingBlogs.length - 1 : prev - 1\n    );\n  };\n\n  const handleNextTrending = () => {\n    setCurrentTrendingIndex((prev) =>\n      prev === trendingBlogs.length - 1 ? 0 : prev + 1\n    );\n  };\n\n  const formatTrendingDate = (iso: string | null | undefined) => {\n    if (!iso) return \"\";\n    try {\n      const d = new Date(iso);\n      return d.toLocaleDateString(undefined, {\n        month: \"short\",\n        day: \"2-digit\",\n        year: \"numeric\",\n      });\n    } catch {\n      return \"\";\n    }\n  };\n\n  return (\n    <div className=\"h-screen\">\n\n      <div className=\"min-h-screen bg-white\">\n        <Navbar />\n        <section className=\"pt-44 pb-16 bg-gradient-to-br from-purple-50 via-blue-50 to-white\">\n          <div className=\"container mx-auto px-6\">\n            <div className=\"text-center mb-12\">\n              <h1 className=\"text-5xl font-bold text-gray-900 mb-6\">\n                Explore What We're Thinking\n              </h1>\n              <p className=\"text-xl text-gray-600 mb-8 max-w-3xl mx-auto\">\n                Product updates, best practices, and e-commerce strategy from the\n                Trilio team.\n              </p>\n            </div>\n\n            {/* Featured Blog Carousel */}\n            <div className=\"max-w-6xl mx-auto mb-12 relative\">\n              {/* Navigation Arrows */}\n              <button\n                onClick={handlePrevTrending}\n                className=\"absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-transparent hover:bg-white/20 text-white border-2 border-white rounded-full p-3 shadow-lg transition-all duration-200 hover:scale-110\"\n                aria-label=\"Previous blog\"\n              >\n                <ChevronLeft className=\"h-6 w-6\" />\n              </button>\n              <button\n                onClick={handleNextTrending}\n                className=\"absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-transparent hover:bg-white/20 text-white border-2 border-white rounded-full p-3 shadow-lg transition-all duration-200 hover:scale-110\"\n                aria-label=\"Next blog\"\n              >\n                <ChevronRight className=\"h-6 w-6\" />\n              </button>\n\n              <Link to={`/resources/blog-insights/${currentTrendingBlog.slug}`} className=\"block\">\n                <Card className=\"relative overflow-hidden hover:shadow-2xl transition-all duration-300 border border-gray-200 bg-white cursor-pointer hover:scale-[1.01] h-[400px] md:h-[450px] rounded-2xl\">\n                  {/* Background Image */}\n                  <img\n                    src={currentTrendingBlog.featured_image_url}\n                    alt={currentTrendingBlog.title}\n                    className=\"absolute inset-0 w-full h-full object-cover object-top\"\n                  />\n                  {/* Gradient Overlay */}\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent\"></div>\n                  {/* Content Overlay */}\n                  <div className=\"absolute inset-0 flex flex-col justify-end p-6 md:p-10\">\n                    <h2 className=\"text-3xl md:text-4xl lg:text-5xl text-white mb-4 leading-tight\">\n                      {currentTrendingBlog.title}\n                    </h2>\n                    <div className=\"flex items-center gap-3 text-sm text-white/80\">\n                      <span>{formatTrendingDate(currentTrendingBlog.published_at)}</span>\n                    </div>\n                  </div>\n                </Card>\n              </Link>\n\n              {/* Carousel Indicators */}\n              <div className=\"flex justify-center gap-2 mt-4\">\n                {trendingBlogs.map((_, index) => (\n                  <button\n                    key={index}\n                    onClick={() => setCurrentTrendingIndex(index)}\n                    className={`h-2 rounded-full transition-all duration-300 ${index === currentTrendingIndex\n                      ? 'w-8 bg-teal-600'\n                      : 'w-2 bg-gray-300 hover:bg-gray-400'\n                      }`}\n                    aria-label={`Go to blog ${index + 1}`}\n                  />\n                ))}\n              </div>\n            </div>\n          </div>\n        </section>\n\n        <div className=\"pt-12 pb-16 bg-white\">\n          <div className=\"container mx-auto px-6\">\n            <div className=\"flex flex-col lg:flex-row gap-8\">\n              {/* Left Sidebar - Categories */}\n              <div className=\"lg:w-1/4\">\n                <div className=\"sticky top-24 rounded-2xl border border-gray-200 bg-white p-4 shadow-sm\">\n                  <h2 className=\"text-xl font-bold text-gray-900 mb-3\">\n                    Categories\n                  </h2>\n\n                  <div className=\"space-y-2\">\n                    {categories.map((category) => {\n                      const active = selectedCategories.includes(category);\n                      return (\n                        <button\n                          key={category}\n                          onClick={() => handleCategoryToggle(category)}\n                          className={`group w-full flex items-center justify-between px-4 py-2.5 rounded-xl border transition-all ${active\n                            ? \"bg-gradient-to-r from-teal-50 to-blue-50 border-teal-200 text-teal-900 ring-1 ring-teal-200\"\n                            : \"bg-white border-gray-200 hover:bg-gray-50\"\n                            }`}\n                          aria-pressed={active}\n                        >\n                          <span className=\"flex items-center gap-3\">\n                            <span\n                              className={`h-2.5 w-2.5 rounded-full ${active ? \"bg-teal-500\" : \"bg-gray-300\"\n                                }`}\n                            ></span>\n                            <span className=\"text-gray-800 font-medium\">\n                              {category}\n                            </span>\n                          </span>\n                          {active && <Check className=\"h-4 w-4 text-teal-600\" />}\n                        </button>\n                      );\n                    })}\n                  </div>\n                </div>\n              </div>\n\n              {/* Main Content Area */}\n              <div className=\"w-full\">\n                {/* Search Bar */}\n                <div className=\"mb-8\">\n                  <div className=\"relative\">\n                    <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\" />\n                    <input\n                      type=\"text\"\n                      placeholder=\"Search...\"\n                      value={searchQuery}\n                      onChange={(e) => setSearchQuery(e.target.value)}\n                      className=\"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-black placeholder-gray-500\"\n                    />\n                  </div>\n                </div>\n\n                {/* Blog Grid / Loading / Error */}\n                {loading ? (\n                  <div className=\"py-16 text-center text-gray-600\">Loading blogsâ€¦</div>\n                ) : error ? (\n                  <div className=\"py-16 text-center\">\n                    <p className=\"text-red-600 mb-4\">{error}</p>\n                    <button\n                      onClick={() => fetchBlogs(currentPage, selectedCategories, searchQuery)}\n                      className=\"inline-flex items-center justify-center rounded-md text-sm font-medium border border-gray-300 bg-white hover:bg-gray-50 h-9 px-4\"\n                    >\n                      Retry\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {currentPosts.map((post) => (\n                      <Link\n                        key={post.id}\n                        to={`/resources/blog-insights/${post.slug}`}\n                        className=\"block\"\n                      >\n                        <Card className=\"overflow-hidden hover:shadow-lg transition-all duration-300 hover:scale-[1.02] border border-gray-200 cursor-pointer h-full\">\n                          <img\n                            src={post.image}\n                            alt={post.title}\n                            className=\"w-full h-48 object-cover\"\n                          />\n                          <CardHeader className=\"pb-3\">\n                            <div className=\"flex items-center justify-between mb-2\">\n                              <Badge\n                                variant=\"secondary\"\n                                className=\"bg-teal-100 text-teal-700 border-teal-200\"\n                              >\n                                {post.category}\n                              </Badge>\n                              <span className=\"text-xs text-gray-500\">\n                                {post.date}\n                              </span>\n                            </div>\n                            <CardTitle className=\"text-base font-semibold hover:text-teal-600 transition-colors duration-200 line-clamp-2\">\n                              {post.title}\n                            </CardTitle>\n                          </CardHeader>\n                          <CardContent className=\"pt-0\">\n                            <div className=\"flex items-center text-sm text-gray-500\">\n                              <span>by {post.author}</span>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      </Link>\n                    ))}\n                  </div>\n                )}\n\n                {/* Pagination */}\n                {!loading && !error && totalPages > 1 && (\n                  <div className=\"flex justify-center items-center mt-12\">\n                    {/* Previous Button */}\n                    <button\n                      onClick={() => handlePageChange(currentPage - 1)}\n                      disabled={currentPage === 1}\n                      className={`w-10 h-10 flex items-center justify-center rounded-lg border-2 transition-all duration-200 mr-4 ${currentPage === 1\n                        ? \"bg-gray-200 border-gray-300 text-gray-400 cursor-not-allowed\"\n                        : \"bg-white border-gray-300 text-gray-600 hover:border-gray-400 hover:bg-gray-50\"\n                        }`}\n                    >\n                      <ChevronLeft className=\"h-4 w-4\" />\n                    </button>\n\n                    {/* Page Numbers */}\n                    <div className=\"flex items-center space-x-1\">\n                      {getPageNumbers().map((pageNum, index) => (\n                        <React.Fragment key={index}>\n                          {pageNum === '...' ? (\n                            <div className=\"w-10 h-10 flex items-center justify-center text-gray-400 font-medium\">\n                              ...\n                            </div>\n                          ) : (\n                            <button\n                              onClick={() => handlePageChange(pageNum as number)}\n                              className={`w-10 h-10 flex items-center justify-center rounded-lg border-2 font-medium text-base transition-all duration-200 ${currentPage === pageNum\n                                ? \"bg-white border-blue-500 text-blue-600\"\n                                : \"bg-white border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50\"\n                                }`}\n                            >\n                              {pageNum}\n                            </button>\n                          )}\n                        </React.Fragment>\n                      ))}\n                    </div>\n\n                    {/* Next Button */}\n                    <button\n                      onClick={() => handlePageChange(currentPage + 1)}\n                      disabled={currentPage === totalPages}\n                      className={`w-10 h-10 flex items-center justify-center rounded-lg border-2 transition-all duration-200 ml-4 ${currentPage === totalPages\n                        ? \"bg-gray-200 border-gray-300 text-gray-400 cursor-not-allowed\"\n                        : \"bg-white border-gray-300 text-gray-600 hover:border-gray-400 hover:bg-gray-50\"\n                        }`}\n                    >\n                      <ChevronRight className=\"h-4 w-4\" />\n                    </button>\n                  </div>\n                )}\n\n\n              </div>\n            </div>\n          </div>\n        </div>\n        <LegacyFooter />\n      </div>\n    </div>\n  );\n};\n\nexport default BlogInsights;\n"],"names":["BlogInsights","selectedCategories","setSelectedCategories","useState","searchQuery","setSearchQuery","currentPage","setCurrentPage","loading","setLoading","error","setError","currentTrendingIndex","setCurrentTrendingIndex","blogPosts","setBlogPosts","trendingBlog","setTrendingBlog","totalBlogs","setTotalBlogs","formatDate","iso","Date","toLocaleDateString","month","day","year","fetchBlogs","async","page","filters","search","PAGE_LIMIT","offset","url","URLSearchParams","limit","String","toString","response","fetch","method","headers","Accept","ok","Error","status","json","blogsArray","_a","data","blogs","map","b","id","Number","slug","title","author","category","date","published_at","image","getBlogImage","summary","_b","total_count","length","trending","find","toLowerCase","includes","err","message","React","useEffect","categories","handlePageChange","window","scrollTo","top","behavior","useMemo","counts","forEach","c","filter","p","totalPages","Math","ceil","currentPosts","trendingBlogs","author_image","read_time","featured_image_url","currentTrendingBlog","className","children","jsxs","jsx","Navbar","onClick","prev","ChevronLeft","ChevronRight","Link","to","Card","src","alt","formatTrendingDate","_","index","active","cat","handleCategoryToggle","Check","Search","type","placeholder","value","onChange","e","target","post","CardHeader","Badge","variant","CardTitle","CardContent","disabled","pageNumbers","i","push","pageNum","Fragment","LegacyFooter"],"mappings":"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"}